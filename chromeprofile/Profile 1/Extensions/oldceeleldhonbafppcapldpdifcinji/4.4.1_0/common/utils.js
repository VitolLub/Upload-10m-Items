/*! (C) Copyright 2020 LanguageTooler GmbH. All rights reserved. */
function isCEElement(t){return t instanceof HTMLElement&&(t.isContentEditable||"BODY"===t.nodeName&&hasFirefoxDesignMode(t))}function isFormElement(t){return isTextArea(t)||isTextInput(t)}function isTextArea(t){return t instanceof HTMLTextAreaElement}function isTextInput(t){return t instanceof HTMLInputElement&&("text"===t.type||"search"===t.type)}function isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}function isTextNode(t){return t.nodeType===Node.TEXT_NODE}function wait(t=25,e=null){return new Promise((n=>setTimeout((()=>n(e)),t)))}function setAnimationFrameTimeout(t,e){let n=null,r=!1;const o=window.setTimeout((()=>{r||(n=window.requestAnimationFrame((()=>t())))}),e);return{destroy:()=>{r=!0,window.clearTimeout(o),n&&window.cancelAnimationFrame(n)}}}function setAnimationFrameInterval(t,e){let n=null,r=!1;const o=()=>{n=setAnimationFrameTimeout((()=>{r||(t(),o())}),e)};return o(),{destroy:()=>{r=!0,n&&(n.destroy(),n=null)}}}function isIntersect(t,e,n,r,o=!1){return o?t<=r&&e>=n:t<r&&e>n}function compareNumberAndSegment(t,e,n,r=!1){if(r){if(e<=t&&t<n)return 0}else if(e<=t&&t<=n)return 0;return t-e}function compareSegments(t,e,n=!1){return isIntersect(t.start,t.end,e.start,e.end,n)?0:t.start-e.start}function isRectsEqual(t,e){return t.top===e.top&&t.right===e.right&&t.bottom===e.bottom&&t.left===e.left}function isRectContainsRect(t,e){return t.left<=e.left&&t.right>=e.right&&t.top<=e.top&&t.bottom>=e.bottom}function isRectsIntersect(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function isPointInsideRect(t,e,n){return void 0===n&&(n=e.y,e=e.x),t.left<=e&&e<=t.right&&t.top<=n&&n<=t.bottom}function createContainerElement(t,e){const n=t.createElement(e);return n.setAttribute("contenteditable","false"),navigator.userAgent.includes("Mac OS")&&n.classList.add("lt--mac-os"),BrowserDetector.isThunderbird()&&n.classList.add("lt--thunderbird"),n}function contains(t,e){return"object"==typeof e?t!==e&&t.contains(e):t instanceof Element&&!!t.querySelector(e)}function closestElement(t,e){if(t.closest)return t.closest(e);{let n=t;for(;n;){if(n.matches(e))return n;n=n.parentElement}}return null}function getCommonParent(t,e){let n=t.parentElement;for(;n;){if(contains(n,e))return n;n=n.parentElement}return null}function hasTextNodeChildWithContent(t){return Array.from(t.childNodes).some((t=>Boolean(t.nodeType===Node.TEXT_NODE&&t.nodeValue&&t.nodeValue.trim())))}function getFrameElement(t){return t.frameElement}function isScrollable(t){const e=window.getComputedStyle(t);return"auto"===e.overflowY||"scroll"===e.overflowY}function hasFirefoxDesignMode(t){return Boolean(t.ownerDocument&&"on"===t.ownerDocument.designMode&&"read-write"===t.ownerDocument.defaultView.getComputedStyle(t)["-moz-user-modify"])}function hasFocus(t){return t.matches(":focus")||"BODY"===t.nodeName&&hasFirefoxDesignMode(t)&&t.ownerDocument.hasFocus()}const getVisibleTopAndBottom=(()=>{const t=(t,e,n,r)=>{const o=t.ownerDocument;let i=o.elementFromPoint(n,r);if(!i)return!1;if(t===i||t.contains(i))return!0;if(!e.length)return!1;const s=e.find((t=>t.contains(i)));return s&&(i=o.elementsFromPoint(n,r).find((t=>!s.contains(t)))||null),Boolean(i&&(t===i||t.contains(i)))};return(e,n,r,o)=>{const i=n.getPaddingBox(e,!1);if(i.bottom<0||i.top>r)return{top:0,bottom:i.height};let s=[];o&&(s=Array.from(e.ownerDocument.querySelectorAll(o)));let a=i.left+Math.round(i.width/100*33);const l=Math.max(i.top,0);let c=l;for(;;){if(t(e,s,a,c)){if(c===l)break;for(;c--;)if(!t(e,s,a,c)){c++;break}break}if(c===i.bottom)break;c=Math.min(i.bottom,c+6)}const u=Math.min(i.bottom,r);let f=u;for(;;){if(t(e,s,a,f-1)){if(f===u)break;for(;f++<u;)if(!t(e,s,a,f-1)){f--;break}break}if(f===c)break;f=Math.max(c,f-6)}return{top:Math.round(Math.max(0,c-i.top)),bottom:Math.round(Math.max(0,f-i.top))}}})();function isVisible(t){return(t.offsetWidth>0||t.offsetHeight>0)&&"hidden"!==new DomMeasurement(document).getStyle(t,"visibility")}function fadeOut(t,e){let n=1;const r=new DomMeasurement(t.ownerDocument),o=setAnimationFrameInterval((()=>{if(n-=.08,n<=0)return o.destroy(),void(e&&e());r.setStyles(t,{opacity:n+" !important"})}),16)}function fadeOutAndRemove(t,e){let n=1;const r=new DomMeasurement(t.ownerDocument),o=setAnimationFrameInterval((()=>{if(n-=.08,n<=0)return t.remove(),o.destroy(),void(e&&e());r.setStyles(t,{opacity:n+" !important"})}),16)}const hasDarkBackground=function(){const t=/rgba\(\d+,\s*\d+,\s*\d+,\s*0\)/i;return function(e){let n=20,r=e;for(;--n;){const e=window.getComputedStyle(r);if(e.backgroundImage&&"none"!==e.backgroundImage)return!1;const n=e.backgroundColor;if(n&&"transparent"!==n&&!t.test(n))return getColorLuminosity(n)<=35;if(!r.parentElement)return!1;r=r.parentElement}return!1}}();function dispatchCustomEvent(t,e,n={}){const r=new CustomEvent(e,{detail:n});t.dispatchEvent(r)}function simulatePaste(t,e,n){if(BrowserDetector.isFirefox()||BrowserDetector.isThunderbird()){const n=new ClipboardEvent("paste",{bubbles:!0,data:e,dataType:"text/plain"});return t.dispatchEvent(n)}{const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer,bubbles:!0});return r.clipboardData.setData("text/plain",e),n&&r.clipboardData.setData("text/html",n),t.dispatchEvent(r)}}function addUseCaptureEvent(t,e,n){const r=t instanceof HTMLDocument?t:t.ownerDocument,o=e=>{const r=e.composedPath?e.composedPath():[e.target];if(!r[0])return;const o=r[0];(isElementNode(o)||isTextNode(o))&&t.contains(o)&&n(e)};return r.defaultView.addEventListener(e,o,!0),{destroy(){r.defaultView.removeEventListener(e,o,!0)}}}function observeScrollableAncestors(t,e){const n=new DomMeasurement(t.ownerDocument);const r=function(t){const e=[];let r=t.parentElement;for(;r&&r!==document.body&&r!==document.documentElement;){const t=n.getStyles(r,["overflow-x","overflow-y"]),o=t["overflow-x"],i=t["overflow-y"];"auto"!==i&&"scroll"!==i&&"auto"!==o&&"scroll"!==o||e.push(r),r=r.parentElement}return e}(t);let o=!1;const i=()=>{o||(o=!0,window.requestAnimationFrame((()=>{o=!1,e()})))};return r.forEach((t=>{t.addEventListener("scroll",i)})),{destroy(){r.forEach((t=>{t.removeEventListener("scroll",i)})),o=!0}}}const onElementDisabled=(()=>{let t;const e=[];return(n,r)=>{e.push({element:n,callback:r}),t=t||window.setInterval((()=>{const n=[];e.forEach((t=>{(t.element.readOnly||t.element.disabled||!isVisible(t.element))&&(n.push(t),t.callback(t.element))})),n.forEach((t=>{e.splice(e.indexOf(t),1)})),e.length||(clearInterval(t),t=null)}),600)}})(),onElementRemoved=(()=>{let t;const e=[];return(n,r)=>{e.push({element:n,callback:r}),t||(t=new MutationObserver((n=>{if(!n.some((t=>t.removedNodes.length>0)))return;const r=[];for(const t of e){!document.contains(t.element)&&(t.callback(t.element),r.push(t))}r.forEach((t=>{e.splice(e.indexOf(t),1)})),e.length||(t.disconnect(),t=null)})),t.observe(document.documentElement,{childList:!0,subtree:!0}))}})();function matchAll(t,e){if("function"==typeof t.matchAll)return Array.from(t.matchAll(e));const n=[];let r=e.exec(t);for(;r;)n.push(r),r=e.exec(t);return n}let isLetter,isWhiteSpace,normalizeWhiteSpaces,isZWC,indexOfZWC,removeZWC;function includesWhiteSpace(t){return/\s/.test(t)}function isCapitalized(t){const e=t.charAt(0);return e.toUpperCase()===e}function startsWithUppercase(t){const e=t.charAt(0);return e===e.toUpperCase()&&e!==e.toLowerCase()}!function(){let t;try{t=new RegExp("\\p{L}","u")}catch(e){t=/[a-zäöüß]/i}isLetter=function(e){return t.test(e)}}(),function(){const t=new RegExp("^[\b\t          ‏　]$"),e=new RegExp("[\b\t          ‏　]","g");isWhiteSpace=function(e){return t.test(e)},normalizeWhiteSpaces=function(t){return t.replace(e," ")}}(),function(){const t=new RegExp("^[​‌‍­⁠]$"),e=new RegExp("[​‌‍­⁠]"),n=new RegExp("[​‌‍­⁠]","g");isZWC=function(e){return t.test(e)},indexOfZWC=function(t){const n=t.match(e);return n?n.index:-1},removeZWC=function(t){return t.replace(n,"")}}();const isAllUppercase=function(){const t=/^[A-ZÈÉÊÁÀÂÓÒÔÚÙÛÍÌÎÄÜÖ]+[A-ZÈÉÊÁÀÂÓÒÔÚÙÛÍÌÎÄÜÖ\-!?#@=%().:;<>'’´`"”“*+,\s]+[A-ZÈÉÊÁÀÂÓÒÔÍÌÎÄÜÖ]$/;return function(e){return t.test(e)}}();function toLowercaseFirstChar(t){return t.charAt(0).toLowerCase()+t.substr(1)}let getWordPosition,getWordContext;function getValuableText(t,e){if(0===e.length)return{text:t,originalText:t,usedParts:[{start:0,end:t.length,originalStart:0,originalEnd:t.length,posDiff:0,length:t.length,text:t}],ignoredParts:[]};e.sort(((t,e)=>t.offset-e.offset));let n=0;for(;n<e.length-1;){const t=e[n],r=e[n+1];void 0===t.replacingText&&void 0===r.replacingText?t.offset+t.length<r.offset?n++:(e[n]={offset:t.offset,length:Math.max(t.offset+t.length,r.offset+r.length)-t.offset},e.splice(n+1,1)):n++}const r=[];let o=0,i=0;for(const n of e){if(i<n.offset){const e=n.offset-i;r.push({start:o,end:o+e,originalStart:i,originalEnd:i+e,posDiff:i-o,length:e,text:t.substr(i,e)}),o+=e}if(void 0!==n.replacingText){let t=n.offset;void 0!==n.offsetShift&&(t+=n.offsetShift),r.push({start:o,end:o+n.length,originalStart:t,originalEnd:t+n.length,posDiff:t-o,length:n.length,text:n.replacingText.padEnd(n.length," ")}),o+=n.length}i=n.offset+n.length}if(i<t.length){const e=t.length-i;r.push({start:o,end:o+e,originalStart:i,originalEnd:i+e,posDiff:i-o,length:e,text:t.substr(i)})}const s=r.map((t=>t.text)).join(""),a=[];for(const t of e)if(void 0===t.replacingText)a.push({start:t.offset,end:t.offset+t.length});else{const e=t.offsetShift||0;0!==e&&a.push({start:t.offset,end:t.offset+e}),t.length!==t.replacingText.length+e&&a.push({start:t.offset+e+t.replacingText.length,end:t.offset+t.length})}return{text:s,originalText:t,usedParts:r,ignoredParts:a}}function getTextsDiff(t,e){if(t===e)return null;let n=0;const r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);let o=0;const i=Math.min(t.length,e.length);for(;n+o<i;){if(t[t.length-o-1]!==e[e.length-o-1])break;o++}return{from:n,oldFragment:t.substring(n,t.length-o),newFragment:e.substring(n,e.length-o)}}function isTextsCompletelyDifferent(t,e){const n=t.split("\n"),r=e.split("\n");for(const t of n)if(r.some((e=>e===t)))return!1;return!0}function getParagraphsDiff(t,e){const n=[],r=t.split("\n"),o=e.split("\n");let i=0;const s=Math.max(r.length,o.length);for(i=0;i<s&&r[i]===o[i];i++);let a=0;const l=Math.min(r.length,o.length);for(;i+a<l;){if(r[r.length-a-1]!==o[o.length-a-1])break;a++}let c=0;for(let t=0;t<i;t++)c+=r[t].length+1;let u=c;for(let t=i;t<s-a;t++){const e=t<r.length-a?r[t]:null,i=t<o.length-a?o[t]:null;e===i&&c===u||n.push({oldText:e,newText:i,oldOffset:c,newOffset:u,textDiff:getTextsDiff(e||"",i||"")}),null!==e&&(c+=e.length+1),null!==i&&(u+=i.length+1)}if(c!==u)for(let t=a-1;t>=0;t--){const e=r[r.length-t-1],i=o[o.length-t-1];n.push({oldText:e,newText:i,oldOffset:c,newOffset:u,textDiff:null}),c+=e.length+1,u+=i.length+1}return n}function escapeHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/`/g,"&#x60;").replace(/\//g,"&#x2F;")}function translateElement(t,e){"string"==typeof t&&(t=document.querySelector(t)),"string"==typeof e&&(e={key:e}),e.isHTML?t.innerHTML=i18nManager.getMessage(e.key,e.interpolations):e.attr?t[e.attr]=i18nManager.getMessage(e.key,e.interpolations):t.textContent=i18nManager.getMessage(e.key,e.interpolations)}function translateSection(t){Array.from(t.querySelectorAll("[data-t]")).forEach((t=>{translateElement(t,t.getAttribute("data-t"))})),Array.from(t.querySelectorAll("[data-t-placeholder]")).forEach((t=>{translateElement(t,{key:t.getAttribute("data-t-placeholder"),attr:"placeholder"})})),Array.from(t.querySelectorAll("[data-t-html]")).forEach((t=>{translateElement(t,{key:t.getAttribute("data-t-html"),isHTML:!0})})),Array.from(t.querySelectorAll("[data-t-title]")).forEach((t=>{translateElement(t,{key:t.getAttribute("data-t-title"),attr:"title"})})),Array.from(t.querySelectorAll("[data-t-attr]")).forEach((t=>{const[e,n]=(t=>{const e=String(t.getAttribute("data-t-attr"));try{const t=JSON.parse(e);if((t=>Array.isArray(t)&&"string"==typeof t[0]&&"string"==typeof t[1]&&2===t.length)(t))return t;throw Error()}catch(t){return["",""]}})(t);e&&n&&translateElement(t,{key:n,attr:e})}))}function binarySearch(t,e){let n=0,r=t.length-1;for(;n<=r;){const o=n+Math.ceil((r-n)/2),i=e(t[o]);if(i>0)n=o+1;else{if(!(i<0)){for(let n=o;n>0;n--)if(0!==e(t[n-1]))return t[n];return t[0]}r=o-1}}return null}function binarySearchIndex(t,e){let n=0,r=t.length-1;for(;n<=r;){const o=n+Math.ceil((r-n)/2),i=t[o];if(i<e)n=o+1;else{if(!(i>e)){for(let n=o;n>0;n--)if(t[n-1]!==e)return n;return 0}r=o-1}}return-1}function getRandomNumberInRange(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function uniq(t){const e=[];return t.forEach((t=>{-1===e.indexOf(t)&&e.push(t)})),e}function fill(t,e,n=0,r=t.length){for(let o=n;o<r;o++)t[o]=e}function isSameObjects(t,e){return t===e||JSON.stringify(t)===JSON.stringify(e)}function clone(t){return null===t||"object"!=typeof t?t:t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t):Array.isArray(t)?Array.from(t):Object.assign({},t)}function deepClone(t,e=!1){if(null===t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(e){const e=Array.isArray(t)?[]:{};for(const n in t)e[n]=deepClone(t[n],!0);return e}return JSON.parse(JSON.stringify(t))}function waitFor(t,e=400,n=15){return new Promise(((r,o)=>{let i=0;const s=()=>{const e=t();null!=e&&(clearInterval(a),r(e)),++i>=n&&(clearInterval(a),o())},a=setInterval(s,e);s()}))}function getRangeAtPoint(t){const e=document;if(e.caretRangeFromPoint)return e.caretRangeFromPoint(t.x,t.y);if(e.caretPositionFromPoint){const n=e.caretPositionFromPoint(t.x,t.y);if(!n||!n.offsetNode)return null;try{const t=new Range;return t.setStart(n.offsetNode,n.offset),t.setEnd(n.offsetNode,n.offset),t}catch(t){return null}}return null}function isSameRange(t,e){return!(!t||!e||t.startContainer!==e.startContainer||t.startOffset!==e.startOffset||t.endOffset!==e.endOffset||t.endContainer!==e.endContainer)}function getSelectedText(){const t=document.activeElement,e=t?t.tagName.toLowerCase():null;return"textarea"===e||"input"===e&&/^(?:text|search|password|tel|url)$/i.test(t.type)&&"number"==typeof t.selectionStart?t.value.slice(t.selectionStart,t.selectionEnd):window.getSelection&&window.getSelection()?window.getSelection().toString():""}function getSelectedHTML(){const t=document.activeElement,e=t?t.tagName.toLowerCase():null;if("textarea"===e||"input"===e&&/^(?:text|search|password|tel|url)$/i.test(t.type)&&"number"==typeof t.selectionStart)return;const n=window.getSelection();if(!n||0===n.rangeCount)return;const r=n.getRangeAt(0).cloneContents(),o=document.createElement("div");return o.appendChild(r),o.innerHTML}function loadStaticFile(t){const e=EnvironmentAdapter.getURL(t);return fetch(e).then((t=>t.text()))}function loadStylesheet(t){const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=EnvironmentAdapter.getURL(t),(document.head||document.body).appendChild(e)}function createStylesheet(t){const e=document.createElement("style");return e.type="text/css",e.appendChild(document.createTextNode(t)),(document.head||document.body).appendChild(e),e}function generateStackTrace(t){if(!t.stack)return;let e=[];if(t.stack.split(/\n/).forEach((t=>{const n=t.match(/([\w_<>]+)\s+\(.+?([\w_\-]+\.(js|html))/);n&&e.push(`${n[2]}:${n[1]}`)})),!e.length){const n=t.stack.match(/([\w_\-]+\.(js|html))/);n&&e.push(n[1])}return e.join(",").substr(0,140)}function isLTAvailable(t){try{return t.document.documentElement.hasAttribute("data-lt-installed")}catch(t){}return!1}function isCssContentScriptsLoaded(t){const e=t.document.createElement("div");e.className="lt-test-element",t.document.documentElement.appendChild(e);const n="absolute"===t.getComputedStyle(e).position;return e.remove(),n}function getCountdown(t){let e=t-Date.now();e<0&&(e=0);const n=Math.floor(e/1e3%60),r=Math.floor(e/1e3/60%60);return`${pad(Math.floor(e/1e3/60/60))}:${pad(r)}:${pad(n)}`}function pad(t){const e=t.toString();return 1===e.length?"0"+e:e}function openPopup(t,e,n,r=Date.now().toString()){const o=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=s/window.screen.availWidth,c=(s-e)/2/l+o,u=(a-n)/2/l+i;return window.open(t,r,`\n      scrollbars=yes,\n\t  resizable=yes,\n      width=${e/l},\n      height=${n/l},\n      top=${u},\n      left=${c}\n      `)}!function(){let t,e;const n=/(?:\S+\s+){0,4}\S+$/,r=/^\S+(?:\s+\S+){0,4}/;try{t=new RegExp("^\\s*(-?\\p{L}+)*-?\\s*$","u"),e=new RegExp("^\\s*\\p{L}+(-\\p{L}+)*\\s*$","u")}catch(n){t=/^\s*(-?[a-zäöüß]+)*-?\s*$/i,e=/^\s*[a-zäöüß]+(-[a-zäöüß]+)*\s*$/i}getWordPosition=(n,r,o=r)=>{const i=n.substring(r,o);if(!t.test(i))return null;let s=0===i.length||isLetter(i[0]),a="-"===i[0],l=r;if(s||a)for(;l>0;){const t=n[l-1],e=isLetter(t),r="-"===t;if(!e&&!r)break;if(r&&a)return null;l--,s=e,a=r}s=isLetter(i[i.length-1]),a=i.endsWith("-");let c=o;if(s||a)for(;c<n.length;){const t=n[c],e=isLetter(t),r="-"===t;if(!e&&!r)break;if(r&&a)return null;c++,s=e,a=r}const u=i.match(/\s+$/);u&&(c-=u[0].length);const f=n.substring(l,c);return e.test(f)?{start:l,end:c}:null},getWordContext=(t,e,o)=>{const i=getWordPosition(t,e,o);if(!i)return null;const s=n.exec(t.substring(0,i.start).trim()),a=s?s[0]:"",l=r.exec(t.substring(i.end).trim()),c=l?l[0]:"";return{word:t.substring(i.start,i.end),position:i,beforeText:a,afterText:c}}}();const goToManagedLogin=function(){let t,e=null;const n=e=>{e.origin.match(/^chrome|moz|safari/)&&t(e.data)};return function(r,o){const i=window;let s=null;t=function(t){const[e,n]=JSON.parse(t);e&&n&&(a(),o(e,n))};const a=function(){e&&window.clearInterval(e),i.removeEventListener("message",n);try{browser.storage.local.remove("managedLoginCredentials")}catch(t){}try{s&&s.close()}catch(t){}};a(),e=window.setInterval((()=>{browser.storage.local.get("managedLoginCredentials").then((e=>{e.managedLoginCredentials&&t(e.managedLoginCredentials)})).catch((()=>null))}),400),i.addEventListener("message",n);const l=browser.runtime.getURL("/welcome/managedLoginRedirectUri.html"),c=r+(r.includes("?")?"&":"?")+"redirect_uri="+encodeURIComponent(l);s=openPopup(c,640,480)}}(),goToLogin=function(){let t,e=null;const n=e=>{t(e.data)};return function(r,o){const i=window;let s=null;t=function(t){const[e,n]=JSON.parse(t);e&&n&&(a(),o(e,n))};const a=function(){e&&window.clearInterval(e),i.removeEventListener("message",n);try{browser.storage.local.remove("loginCredentials")}catch(t){}try{s&&s.close()}catch(t){}};a(),e=window.setInterval((()=>{browser.storage.local.get("loginCredentials").then((e=>{e.loginCredentials&&t(e.loginCredentials)})).catch((()=>null))}),400),i.addEventListener("message",n);const l=browser.runtime.getURL("/welcome/loginRedirectUri.html"),c=r+(r.includes("?")?"&":"?")+"callback_uri="+encodeURIComponent(l);s=openPopup(c,640,480,"lt-login-"+Date.now())}}();function dataURItoBlob(t){const e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),o=new Uint8Array(r);for(let t=0;t<e.length;t++)o[t]=e.charCodeAt(t);return new Blob([r],{type:n})}const getColorLuminosity=function(){const t=/ /g,e=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,n=/^#([0-9a-f]{1,2})([0-9a-f]{1,2})([0-9a-f]{1,2})$/i,r=/^rgba?\(/i,o=/rgba?\((\d+),(\d+),(\d+)/i,i=/^hsla?\(/i,s=/hsla?\(\d+,\d+%,(\d+)%/i;function a(t,e,n){const r=Math.max(t,e,n)/255,o=Math.min(t,e,n)/255;return Math.round((r+o)/2*100)}return function(l){if("string"!=typeof l)return a(l[0],l[1],l[2]);if(l=l.replace(t,""),e.test(l)){const t=n.exec(l);if(t){return a(parseInt(2===t[1].length?t[1]:t[1]+t[1],16),parseInt(2===t[2].length?t[2]:t[2]+t[2],16),parseInt(2===t[3].length?t[3]:t[3]+t[3],16))}}else if(r.test(l)){const t=o.exec(l);if(t){return a(+t[1],+t[2],+t[3])}}else if(i.test(l)){const t=s.exec(l);if(t)return+t[1]}return 100}}();function getHistoricPremiumErrors(t){const e=300;let n=0;const r=Date.now();let o=0;for(const i of t.hiddenErrors){const t=+new Date(i.day);if(r-t>864e6)break;if(o=t,n+=i.count,n>e){n=e;break}}let i=String(n);n>=e&&(i="300+");return{hiddenErrorsCount:n,hiddenErrorsCountStr:i,dayCount:Math.ceil((r-o)/1e3/60/60/24)}}function isDraftJS(t){return Boolean(t.closest(".DraftEditor-editorContainer"))||/(facebook|messenger)\.com/.test(location.host)&&(t.hasAttribute("aria-describedBy")||["textfield","textbox"].includes(t.getAttribute("role")||""))&&t.hasAttribute("contenteditable")||!!t.querySelector("div[data-contents=true]")&&t.classList.contains("notranslate")}function isTinyMCE(t){return t.classList.contains("mce-content-body")||t.classList.contains("mceContentBody")}function isCKEditor(t){const e=t.classList.contains("cke_editable"),n="string"==typeof t.className&&t.className.includes("ck-editor_");return e||n}function isSlateEditor(t){return t.hasAttribute("data-slate-editor")}function isWriterDuet(t){return location.href.includes("writerduet.com")}function isQuillEditor(t){return t.classList.contains("ql-editor")}function isOpenXchangeEditor(t){return!!t.closest("[data-app-name='io.ox/office/text']")}function isProseMirror(t){return t.classList.contains("ProseMirror")}function isGutenberg(t){return t.classList.contains("editor-rich-text__editable")||t.classList.contains("block-editor-rich-text__editable")}function isTrixEditor(t){return"trix-editor"===t.nodeName.toLowerCase()}function isLTEditor(t){return t.classList.contains("lt-textarea__textarea")}function isCodeMirror(t){return t.classList.contains("CodeMirror-code")}function isHorde(t){return window!==window.parent&&t.ownerDocument&&t===t.ownerDocument.body&&t.ownerDocument.documentElement.isContentEditable&&t.classList.contains("cke_show_borders")}function isMedium(t){return location.host.includes("medium.com")&&"true"===t.getAttribute("g_editable")}function isWikpedia(t){return t.classList.contains("ve-ce-rootNode")}function getCurrentUrl(){if("about:blank"===location.href||"about:srcdoc"===location.href)try{return window.parent.location.href}catch(t){}return location.href}function getDomain(t,e=t){if(t.startsWith("about:blank"))return"blank";if(t.startsWith("about:srcdoc"))return"srcdoc";if(t.startsWith("file:"))return"file";t&&!/^([a-z\-]+:\/\/)/i.test(t)&&(t="http://"+t);try{return new URL(t).hostname}catch(t){return e}}function getCurrentDomain(){const t=document.location||document.defaultView.location;if(t&&t.hostname)return t.hostname.replace(/^www\./,"");try{if(window.parent!==window)return window.parent.location.hostname.replace(/^www\./,"")}catch(t){}return t.href.startsWith("about:blank")?"blank":t.href.startsWith("about:srcdoc")?"srcdoc":t.href.startsWith("file:")?"file":""}function formatNumber(t,e){return t.toLocaleString(e)}function getMainPageDomain(){let t;return window.parent!==window&&document.referrer&&(t=getDomain(document.referrer)),t||(t=getCurrentDomain()),t}function getSubdomains(t){const e=[t];for(;t.split(".").length>2;){const n=t.indexOf(".");t=t.substr(n+1),e.push(t)}return e}const getAutoLoginUrl=function(t,e,n){let r=`https://languagetool.org/webextension/login?email=${encodeURIComponent(t)}&addon_token=${encodeURIComponent(e)}`;return n&&(r+=`&temp_text_id=${encodeURIComponent(n)}`),r};function isErrorIgnoredByDictionary(t,e){if(!t.isSpellingError)return!1;let n=t.originalPhrase;if(/^\w+\.$/.test(n)&&(n=n.substring(0,n.length-1)),e.includes(n))return!0;if(startsWithUppercase(n)){const t=toLowercaseFirstChar(n);if(e.includes(t))return!0}return!1}function isErrorRuleIgnored(t,e){const n=LanguageManager.getPrimaryLanguageCode(t.language.code);return e.some((e=>!(e.id!==t.rule.id||"*"!==e.language&&e.language!==n)&&(!e.phrase||(!!(e.id.includes("TOO_LONG_SENTENCE")&&getStringSimilarity(e.phrase,t.originalPhrase)>.75)||e.phrase.toLowerCase()===t.originalPhrase.toLowerCase()))))}function getStringSimilarity(t,e,n=2,r=!1){if(r||(t=t.toLowerCase(),e=e.toLowerCase()),t.length<n||e.length<n)return 0;const o=new Map;for(let e=0;e<t.length-(n-1);e++){const r=t.substr(e,n);o.set(r,o.has(r)?o.get(r)+1:1)}let i=0;for(let t=0;t<e.length-(n-1);t++){const r=e.substr(t,n),s=o.has(r)?o.get(r):0;s>0&&(o.set(r,s-1),i++)}return 2*i/(t.length+e.length-2*(n-1))}const removeDiacritics=function(){const t=/[\u0300-\u036f]/g,e=/\u0142/g,n=/\u00F8/g;return function(r){return r.normalize("NFD").replace(t,"").replace(e,"l").replace(n,"o")}}();function tryThese(...t){for(let e=0;e<t.length;e++){const n=t[e];try{return n()}catch(t){}}}function isDateInFuture(t){return t>Date.now()}"undefined"!=typeof module&&(module.exports.isIntersect=isIntersect,module.exports.compareSegments=compareSegments,module.exports.matchAll=matchAll,module.exports.isLetter=isLetter,module.exports.getWordPosition=getWordPosition,module.exports.getWordContext=getWordContext,module.exports.getValuableText=getValuableText,module.exports.binarySearch=binarySearch,module.exports.binarySearchIndex=binarySearchIndex,module.exports.fill=fill,module.exports.getColorLuminosity=getColorLuminosity,module.exports.getDomain=getDomain,module.exports.getSubdomains=getSubdomains);