class Thunderbird{static getOrCreateShadow(e){if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch(e){return null}let t=e.shadowRoot.querySelector("slot");return t||(t=document.createElement("slot"),e.shadowRoot.append(t)),this._shadowStylesheets.forEach((t=>{const o=browser.runtime.getURL(t);if(!e.shadowRoot.querySelector(`[href="${o}"]`)){const t=document.createElement("link");t.href=o,t.rel="stylesheet",e.shadowRoot.append(t)}})),e.shadowRoot.addEventListener("cut",(e=>{document.execCommand("copy"),document.execCommand("delete"),e.stopImmediatePropagation(),e.preventDefault()}),!0),{root:e.shadowRoot,slot:t}}static isComposer(e){return location.href.startsWith("about:blank?compose")&&"BODY"===e.tagName&&"on"===document.designMode}static registerComposeScripts(){const e=browser.composeScripts;if(e){const t=[],o=[],s=browser.runtime.getURL("");browser.runtime.getManifest().content_scripts.forEach((e=>{e.js&&e.js.forEach((e=>{t.push({file:e.replace(s,"")})})),e.css&&e.css.forEach((e=>{o.push({file:e.replace(s,"")})}))})),e.register({css:o,js:t})}}static setNativeSpellCheck(e){const t=browser.spellcheck;t&&t.setValue(e)}}Thunderbird._shadowStylesheets=["content/styles/shadow.css"],Thunderbird.COMPOSE_URL="about:blank?compose",Thunderbird.COMPOSE_URL_REGEXP=/^about:blank\?compose/,"undefined"!=typeof module&&(module.exports.Thunderbird=Thunderbird);