!function(){const t="oldceeleldhonbafppcapldpdifcinji";try{window._docs_annotate_canvas_by_ext=t;const e=window.chrome;window.chrome=window.chrome||{},window.chrome.runtime=window.chrome.runtime||{},navigator.webdriver||(window._docs_force_html_by_ext=t);const i=window.chrome.runtime.sendMessage;window.chrome.runtime.sendMessage=function(o){if(o!==t)return i.apply(this,arguments);e||delete window.chrome}}catch(t){}const e=/rgba\(118,\s*167,\s*250,\s*0\./i,i="#dd0000",o="#4285f4",n="#fce8e6",s="#e8f0fe",l=/rgba\(31,\s*161,\s*93,\s*0\.|rgba\(255,\s*0,\s*122,\s*0\.|rgba\(0,\s*163,\s*187,\s*0\.|rgba\(119,\s*119,\s*119,\s*0\./i,h=document.getElementsByTagName("lt-gdocs-disabled");function c(){return!!h.length}let r=!1;const a=[];function d(t,e,i={}){var o;o=()=>{const o=new CustomEvent(e,{detail:i,bubbles:!0});t.dispatchEvent(o)},r?o():a.push(o)}function _(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}document.addEventListener("lt-gdocs-init",(()=>{a.forEach((t=>t())),a.length=0,r=!0}));const g=CanvasRenderingContext2D.prototype.lineTo;CanvasRenderingContext2D.prototype.lineTo=function(t,e){if(!this.strokeStyle||c()||![i,o].includes(this.strokeStyle.toLowerCase())){if(this.strokeStyle&&!c()&&l.test(this.strokeStyle)){let{a:i,b:o,c:n,d:s,e:l,f:h}=this.getTransform();i/=window.devicePixelRatio,s/=window.devicePixelRatio,l/=window.devicePixelRatio,h/=window.devicePixelRatio;const c=t*i+l,r=e*s+h-this.lineWidth/2;this.__ltStrikethroughPoints=this.__ltStrikethroughPoints||[],this.__ltStrikethroughPoints.push({left:c,top:r,bottom:r,right:c}),this.canvas&&d(this.canvas,"lt-strikethroughchange",{strikethroughPoints:this.__ltStrikethroughPoints})}return g.apply(this,arguments)}};const u=CanvasRenderingContext2D.prototype.fillRect;CanvasRenderingContext2D.prototype.fillRect=function(t,i,o,l){if(this.fillStyle&&!c()&&e.test(this.fillStyle)&&o>2){let{a:e,b:n,c:s,d:h,e:c,f:r}=this.getTransform();e/=window.devicePixelRatio,h/=window.devicePixelRatio,c/=window.devicePixelRatio,r/=window.devicePixelRatio;const a=t*e+c,_=i*h+r,g=o*e,u=l*h;this.__ltSelectionRects=this.__ltSelectionRects||[],this.__ltSelectionRects.push({top:_,left:a,right:a+g,bottom:_+u}),this.canvas&&d(this.canvas,"lt-selectionchange",{selectionRects:this.__ltSelectionRects})}if(!this.fillStyle||![n,s].includes(this.fillStyle.toLowerCase())||c())return u.apply(this,arguments)};const f=CanvasRenderingContext2D.prototype.clearRect;CanvasRenderingContext2D.prototype.clearRect=function(t,e,i,o){const n={top:e,left:t,bottom:e+o,right:t+i},s=c();if(this.__ltSelectionRects&&!s){const t=this.__ltSelectionRects.length;this.__ltSelectionRects=this.__ltSelectionRects.filter((t=>!_(t,n))),t!==this.__ltSelectionRects.length&&d(this.canvas,"lt-selectionchange",{selectionRects:this.__ltSelectionRects})}if(this.__ltStrikethroughPoints&&!s){const t=this.__ltStrikethroughPoints.length;this.__ltStrikethroughPoints=this.__ltStrikethroughPoints.filter((t=>!_(t,n))),t!==this.__ltStrikethroughPoints.length&&d(this.canvas,"lt-strikethroughchange",{strikethroughPoints:this.__ltStrikethroughPoints})}return f.apply(this,arguments)}}();